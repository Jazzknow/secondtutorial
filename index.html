<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Amazing Grade Bible Baptist Church</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/7.0.1/css/all.min.css"
        integrity="sha512-2SwdPD6INVrV/lHTZbO2nodKhrnDdJK9/kg2XD1r9uGqPo1cUbujc+IYdlYdEErWNu69gVcYgdxlmVmzTWnetw=="
        crossorigin="anonymous" referrerpolicy="no-referrer" />
    <link rel="icon" type="image/x-icon" href="img/logoheader.png">
    <link rel="stylesheet" href="css/style.css">
    <!-- SweetAlert2 -->
    <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>
    <style>
        /* Ensure SweetAlert appears above all elements */
        .swal2-container {
            z-index: 10000 !important;
        }

        /* Remove padding-right from SweetAlert */
        body.swal2-shown {
            padding-right: 0 !important;
        }

        /* Hide scrollbar */
        html {
            scrollbar-width: none;
            -ms-overflow-style: none;
        }

        html::-webkit-scrollbar {
            display: none;
        }
    </style>
</head>

<body>
    <header>
        <div class="wrap">
            <div class="logocontainer">
                <img src="img/logoheader.png" alt="Bakery Logo" class="logo">
                <h4>AGBBC</h4>
            </div>
            <button type="button" class="mobile-menu-toggle" aria-label="Toggle menu">
                <span></span>
                <span></span>
                <span></span>
            </button>
            <div class="navlinks">
                <ul class="navlinks-list">
                    <li><a href="#home">Home</a></li>
                    <li><a href="#about">About</a></li>
                    <li><a href="#ministries">Ministries</a></li>
                    <li class="nav-dropdown">
                        <button type="button" class="nav-dropdown-trigger" aria-haspopup="true" aria-expanded="false">
                            Events <i class="fa-solid fa-chevron-down nav-dropdown-chevron"></i>
                        </button>
                        <div class="">
                            <ul class="nav-dropdown-menu">
                                <li><button type="button" class="nav-dropdown-option" data-event-type="worship">Worship
                                        Services</button></li>
                                <li><button type="button" class="nav-dropdown-option"
                                        data-event-type="bible-study">Bible Study</button></li>
                                <li><button type="button" class="nav-dropdown-option" data-event-type="youth">Youth &
                                        Teens</button></li>
                                <li><button type="button" class="nav-dropdown-option"
                                        data-event-type="outreach">Outreach</button></li>
                            </ul>
                        </div>
                    </li>
                    <li><a href="#contact">Contact</a></li>
                </ul>
            </div>
            <div class="btn-header">
                <ul>
                    <li><button type="button" class="join-us-btn" id="openLoginModal">Join Us</button></li>
                </ul>
            </div>
        </div>
    </header>
    <section class="banner" id="home">
        <div class="banner-video-bg">
            <video class="banner-video active" data-index="0" muted playsinline loop poster="img/holycrossbg.jpg">
                <source src="video/sermon1.mp4" type="video/mp4">
            </video>
            <video class="banner-video" data-index="1" muted playsinline loop poster="img/agbbcbackground.jpg">
                <source src="video/sermon2.mp4" type="video/mp4">
            </video>
            <video class="banner-video" data-index="2" muted playsinline loop poster="img/bgimage.jpg">
                <source src="video/sermon3.mp4" type="video/mp4">
            </video>
        </div>
        <div class="banner-overlay"></div>
        <div class="banner-video-bar" role="tablist" aria-label="Choose video">
            <button type="button" class="banner-bar-segment active" data-index="0" aria-label="Video 1"
                role="tab"></button>
            <button type="button" class="banner-bar-segment" data-index="1" aria-label="Video 2" role="tab"></button>
            <button type="button" class="banner-bar-segment" data-index="2" aria-label="Video 3" role="tab"></button>
        </div>
        <div class="wrap banner-wrap">
            <h1>"Grow In Your Walk <br> With God"</h1>
            <h4>A Christ-centered church sharing Godâ€™s Word and <br> Amazing Grace with our community.</h4>
            <a href="#about" class="hero-btn">Read More</a>
            <div class="medialinks">
                <ul>
                    <li><a href="#"><i class="fa-brands fa-x-twitter"></i></a></li>
                    <li><a href="https://www.facebook.com/agbbctanzacavite" target="_blank"><i
                                class="fa-brands fa-facebook-f"></i></a></li>
                    <li><a href="#"><i class="fa-brands fa-instagram"></i></a></li>
                </ul>
            </div>
        </div>
    </section>
    <section class="about section" id="about">
        <div class="wrap">
            <div class="about-head">
                <p class="about-eyebrow">About Us</p>
            </div>
            <div class="about-container">
                <div class="left">
                    <div class="main-header">
                        <h3>Amazing Grace Bible Baptist Church</h3>
                        <h4>Tanza, Cavite</h4>
                    </div>
                    <blockquote class="about-quote">
                        <span class="quote-mark open">"</span>
                        Grow in your walk with God.
                        <span class="quote-mark close">"</span>
                    </blockquote>
                    <p>Quisque rutrum. Aenean imperdiet. Etiam ultricies nisi vel augue. Curabitur ullamcorper ultricies
                        nisi. Nam eget dui. Etiam rhoncus. Maecenas tempus, tellus eget condimentum rhoncus, sem quam
                        semper
                        libero, sit amet adipiscing sem neque sed.</p>
                    <a href="">Read More</a>
                </div>
                <div class="right">
                    <div class="gallery-grid">
                        <img src="img/bannerimg.jpg" alt="Church">
                        <img src="img/bgimage.jpg" alt="Church">
                        <img src="img/agbbcbackground.jpg" alt="Church">
                        <img src="img/holycrossbg.jpg" alt="Church">
                    </div>
                </div>
            </div>
        </div>
    </section>
    <section class="ministries section" id="ministries">
        <div class="wrap">
            <header class="ministries-head">
                <p class="ministries-eyebrow">Get involved</p>
                <h2>Ministries</h2>
                <p class="ministries-lead">
                    Find a place to serve, belong, and growâ€”thereâ€™s a ministry for every season of life.
                </p>
            </header>

            <div class="ministries-grid">
                <article class="ministry-card">
                    <div class="ministry-top">
                        <div class="ministry-icon"><i class="fa-solid fa-children"></i></div>
                        <div class="ministry-meta">
                            <h3>Childrenâ€™s Ministry</h3>
                            <p class="ministry-tag">Sundays â€¢ 9:00 AM</p>
                        </div>
                    </div>
                    <p class="ministry-desc">Bible lessons, songs, and small groups designed for kids to love Godâ€™s
                        Word.</p>
                    <a class="ministry-link" href="#">Learn more <i class="fa-solid fa-arrow-right"></i></a>
                </article>

                <article class="ministry-card">
                    <div class="ministry-top">
                        <div class="ministry-icon"><i class="fa-solid fa-people-group"></i></div>
                        <div class="ministry-meta">
                            <h3>Youth Fellowship</h3>
                            <p class="ministry-tag">Saturdays â€¢ 5:00 PM</p>
                        </div>
                    </div>
                    <p class="ministry-desc">A safe space to build friendships, ask questions, and strengthen faith
                        together.</p>
                    <a class="ministry-link" href="#">Learn more <i class="fa-solid fa-arrow-right"></i></a>
                </article>

                <article class="ministry-card">
                    <div class="ministry-top">
                        <div class="ministry-icon"><i class="fa-solid fa-music"></i></div>
                        <div class="ministry-meta">
                            <h3>Worship & Music</h3>
                            <p class="ministry-tag">Practice â€¢ Weekly</p>
                        </div>
                    </div>
                    <p class="ministry-desc">Serve through music, sound, and mediaâ€”help the church worship with
                        excellence.</p>
                    <a class="ministry-link" href="#">Learn more <i class="fa-solid fa-arrow-right"></i></a>
                </article>

                <article class="ministry-card">
                    <div class="ministry-top">
                        <div class="ministry-icon"><i class="fa-solid fa-book-bible"></i></div>
                        <div class="ministry-meta">
                            <h3>Bible Study Groups</h3>
                            <p class="ministry-tag">Weekdays â€¢ Small groups</p>
                        </div>
                    </div>
                    <p class="ministry-desc">Grow in Scripture with guided lessons, prayer, and practical application.
                    </p>
                    <a class="ministry-link" href="#">Learn more <i class="fa-solid fa-arrow-right"></i></a>
                </article>
            </div>

            <div class="ministries-cta">
                <div class="ministries-cta-text">
                    <h3>Want to join a team?</h3>
                    <p>Tell us what youâ€™re interested inâ€”weâ€™ll help you find the right fit.</p>
                </div>
                <a class="ministries-cta-btn" href="#">Contact us</a>
            </div>
        </div>
    </section>

    <!-- Gallery Section - Horizontal Scroll with Peek Effect -->
    <section class="gallery section" id="gallery">
        <div class="wrap">
            <div class="gallery-head">
                <p class="gallery-eyebrow">Our Community</p>
                <h2>Moments of Worship</h2>
                <p class="gallery-lead">
                    Glimpses of fellowship, worship, and fellowship in our church family.
                </p>
            </div>

            <div class="gallery-scroller">
                <div class="gallery-track">
                    <article class="gallery-card">
                        <div class="gallery-card-inner">
                            <img src="img/bannerimg.jpg" alt="Sunday Worship Service">
                            <div class="gallery-card-overlay">
                                <div class="gallery-card-content">
                                    <span class="gallery-card-icon"><i class="fa-solid fa-church"></i></span>
                                    <h3>Sunday Worship</h3>
                                    <p>9:00 AM</p>
                                </div>
                            </div>
                        </div>
                    </article>
                    <article class="gallery-card">
                        <div class="gallery-card-inner">
                            <img src="img/agbbcbackground.jpg" alt="Youth Fellowship">
                            <div class="gallery-card-overlay">
                                <div class="gallery-card-content">
                                    <span class="gallery-card-icon"><i class="fa-solid fa-users"></i></span>
                                    <h3>Youth Fellowship</h3>
                                    <p>Saturdays</p>
                                </div>
                            </div>
                        </div>
                    </article>
                    <article class="gallery-card">
                        <div class="gallery-card-inner">
                            <img src="img/bgimage.jpg" alt="Bible Study">
                            <div class="gallery-card-overlay">
                                <div class="gallery-card-content">
                                    <span class="gallery-card-icon"><i class="fa-solid fa-book-bible"></i></span>
                                    <h3>Bible Study</h3>
                                    <p>Wednesdays</p>
                                </div>
                            </div>
                        </div>
                    </article>
                    <article class="gallery-card">
                        <div class="gallery-card-inner">
                            <img src="img/holycrossbg.jpg" alt="Praise and Worship">
                            <div class="gallery-card-overlay">
                                <div class="gallery-card-content">
                                    <span class="gallery-card-icon"><i class="fa-solid fa-music"></i></span>
                                    <h3>Praise & Worship</h3>
                                    <p>Every Sunday</p>
                                </div>
                            </div>
                        </div>
                    </article>
                    <article class="gallery-card gallery-card-wide">
                        <div class="gallery-card-inner">
                            <img src="img/bannerimg.jpg" alt="Community Outreach">
                            <div class="gallery-card-overlay">
                                <div class="gallery-card-content">
                                    <span class="gallery-card-icon"><i
                                            class="fa-solid fa-hand-holding-heart"></i></span>
                                    <h3>Community Outreach</h3>
                                    <p>Serving our neighbors</p>
                                </div>
                            </div>
                        </div>
                    </article>
                    <article class="gallery-card">
                        <div class="gallery-card-inner">
                            <img src="img/agbbcbackground.jpg" alt="Children's Ministry">
                            <div class="gallery-card-overlay">
                                <div class="gallery-card-content">
                                    <span class="gallery-card-icon"><i class="fa-solid fa-child"></i></span>
                                    <h3>Children's Ministry</h3>
                                    <p>Sundays</p>
                                </div>
                            </div>
                        </div>
                    </article>
                </div>
            </div>
            <div class="gallery-nav">
                <button class="gallery-nav-btn gallery-prev" aria-label="Previous">
                    <i class="fa-solid fa-arrow-left"></i>
                </button>
                <button class="gallery-nav-btn gallery-next" aria-label="Next">
                    <i class="fa-solid fa-arrow-right"></i>
                </button>
            </div>
        </div>
    </section>

    <section class="contact section" id="contact">
        <div class="wrap">
            <header class="contact-head">
                <p class="contact-eyebrow">Get in touch</p>
                <h2>Contact Us</h2>
                <p class="contact-lead">
                    Weâ€™d love to hear from you. Visit us, give us a call, or send a message.
                </p>
            </header>

            <div class="contact-layout">
                <div class="contact-info-card">
                    <div class="contact-info-item">
                        <div class="contact-icon-wrap">
                            <i class="fa-solid fa-location-dot"></i>
                        </div>
                        <div class="contact-info-text">
                            <span class="contact-label">Address</span>
                            <p>Amazing Grace Bible Baptist Church<br>Tanza, Cavite, Philippines</p>
                        </div>
                    </div>
                    <div class="contact-info-item">
                        <div class="contact-icon-wrap">
                            <i class="fa-solid fa-clock"></i>
                        </div>
                        <div class="contact-info-text">
                            <span class="contact-label">Service times</span>
                            <p>Sunday Worship 9:00 AM<br>Midweek Bible Study 7:00 PM</p>
                        </div>
                    </div>
                    <div class="contact-info-item">
                        <div class="contact-icon-wrap">
                            <i class="fa-solid fa-phone"></i>
                        </div>
                        <div class="contact-info-text">
                            <span class="contact-label">Phone</span>
                            <p><a href="tel:+631234567890">+63 (0) 123 456 7890</a></p>
                        </div>
                    </div>
                    <div class="contact-info-item">
                        <div class="contact-icon-wrap">
                            <i class="fa-solid fa-envelope"></i>
                        </div>
                        <div class="contact-info-text">
                            <span class="contact-label">Email</span>
                            <p><a href="mailto:info@agbbc.org">info@agbbc.org</a></p>
                        </div>
                    </div>
                    <a href="https://www.google.com/maps/search/Amazing+Grace+Bible+Baptist+Church+Tanza+Cavite+Philippines"
                        target="_blank" rel="noopener noreferrer" class="contact-map-link">
                        <i class="fa-solid fa-arrow-up-right-from-square"></i> Open in Google Maps
                    </a>
                </div>

                <div class="contact-map-wrap">
                    <div class="contact-map-frame">
                        <iframe
                            src="https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d3863.382678789!2d120.8531!3d14.3942!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x3397d00b2b1e86b1%3A0x3d2e2e2e2e2e2e2e!2sTanza%2C%20Cavite%2C%20Philippines!5e1!3m2!1sen!2sph!4v1700000000000&amp;maptype=satellite"
                            width="100%" height="100%" style="border:0;" allowfullscreen="" loading="lazy"
                            referrerpolicy="no-referrer-when-downgrade" title="Church location - Tanza, Cavite">
                        </iframe>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <div class="events-cabinet-backdrop" id="eventsCabinetBackdrop" aria-hidden="true"></div>
    <aside class="events-cabinet" id="eventsCabinet" aria-label="Events and announcements" aria-hidden="true">
        <div class="events-cabinet-header">
            <h2 class="events-cabinet-title" id="eventsCabinetTitle">Events</h2>
            <button type="button" class="events-cabinet-close" aria-label="Close panel">
                <i class="fa-solid fa-times"></i>
            </button>
        </div>
        <div class="events-cabinet-body" id="eventsCabinetBody">
            <div class="events-cabinet-content" data-event-type="worship">
                <p class="events-cabinet-eyebrow">Worship Services</p>
                <ul class="events-cabinet-list">
                    <li>
                        <span class="ec-date">28 Feb</span>
                        <div class="ec-info">
                            <strong>Morning Service & Communion</strong>
                            <span>9:00 AM â€” Main Sanctuary</span>
                        </div>
                    </li>
                    <li>
                        <span class="ec-date">07 Mar</span>
                        <div class="ec-info">
                            <strong>Sunday Worship</strong>
                            <span>9:00 AM â€” Main Sanctuary</span>
                        </div>
                    </li>
                </ul>
            </div>
            <div class="events-cabinet-content" data-event-type="bible-study" hidden>
                <p class="events-cabinet-eyebrow">Bible Study</p>
                <ul class="events-cabinet-list">
                    <li>
                        <span class="ec-date">01 Mar</span>
                        <div class="ec-info">
                            <strong>Midweek Fellowship</strong>
                            <span>7:00 PM</span>
                        </div>
                    </li>
                    <li>
                        <span class="ec-date">08 Mar</span>
                        <div class="ec-info">
                            <strong>Bible Study â€” Romans</strong>
                            <span>7:00 PM</span>
                        </div>
                    </li>
                </ul>
            </div>
            <div class="events-cabinet-content" data-event-type="youth" hidden>
                <p class="events-cabinet-eyebrow">Youth & Teens</p>
                <ul class="events-cabinet-list">
                    <li>
                        <span class="ec-date">08 Mar</span>
                        <div class="ec-info">
                            <strong>Youth Night & Pizza</strong>
                            <span>5:00 PM</span>
                        </div>
                    </li>
                    <li>
                        <span class="ec-date">22 Mar</span>
                        <div class="ec-info">
                            <strong>Youth Worship</strong>
                            <span>5:00 PM</span>
                        </div>
                    </li>
                </ul>
            </div>
            <div class="events-cabinet-content" data-event-type="outreach" hidden>
                <p class="events-cabinet-eyebrow">Outreach</p>
                <ul class="events-cabinet-list">
                    <li>
                        <span class="ec-date">15 Mar</span>
                        <div class="ec-info">
                            <strong>Community Breakfast</strong>
                            <span>8:00 AM</span>
                        </div>
                    </li>
                    <li>
                        <span class="ec-date">29 Mar</span>
                        <div class="ec-info">
                            <strong>Neighborhood Visit</strong>
                            <span>3:00 PM</span>
                        </div>
                    </li>
                </ul>
            </div>
        </div>
    </aside>

    <footer class="site-footer">
        <div class="wrap">
            <div class="footer-top">
                <div class="footer-brand">
                    <img src="img/logoheader.png" alt="AGBBC" class="footer-logo">
                    <span class="footer-name">Amazing Grace Bible Baptist Church</span>
                </div>
                <nav class="footer-nav">
                    <ul>
                        <li><a href="#home">Home</a></li>
                        <li><a href="#about">About</a></li>
                        <li><a href="#ministries">Ministries</a></li>
                        <li><a href="#gallery">Gallery</a></li>
                        <li><a href="#contact">Contact</a></li>
                    </ul>
                </nav>
                <div class="footer-social">
                    <ul>
                        <li><a href="#" aria-label="X (Twitter)"><i class="fa-brands fa-x-twitter"></i></a></li>
                        <li><a href="https://www.facebook.com/agbbctanzacavite" aria-label="Facebook" target="_blank"><i
                                    class="fa-brands fa-facebook-f"></i></a></li>
                        <li><a href="#" aria-label="Instagram"><i class="fa-brands fa-instagram"></i></a></li>
                    </ul>
                </div>
            </div>
            <div class="footer-bottom">
                <p class="footer-tagline">Tanza, Cavite â€” Grow in your walk with God.</p>
                <p class="footer-copy">&copy; <span class="footer-year"></span> Amazing Grace Bible Baptist Church. All
                    rights reserved.</p>
            </div>
        </div>
    </footer>
    <script>
        // Check if redirected from admin and show login required message
        (function () {
            const urlParams = new URLSearchParams(window.location.search);
            if (urlParams.get('needLogin') === '1') {
                // Remove the query parameter from URL
                window.history.replaceState({}, document.title, window.location.pathname);

                // Show SweetAlert after page loads
                setTimeout(function () {
                    Swal.fire({
                        icon: 'warning',
                        title: 'Login Required',
                        text: 'Please login to access the admin dashboard.',
                        confirmButtonColor: '#3085d6',
                        confirmButtonText: 'OK'
                    }).then(() => {
                        // Open login modal after clicking OK
                        const loginModal = document.getElementById('loginModal');
                        if (loginModal) {
                            loginModal.classList.add('active');
                            document.body.style.overflow = 'hidden';
                        }
                    });
                }, 100);
            }
        })();

        // Header scroll effect - add background color when scrolled
        (function () {
            var header = document.querySelector('header');

            function handleScroll() {
                if (window.scrollY > 50) {
                    header.classList.add('scrolled');
                } else {
                    header.classList.remove('scrolled');
                }
            }

            window.addEventListener('scroll', handleScroll);
            handleScroll(); // Check on load
        })();

        // Mobile menu toggle
        (function () {
            var menuToggle = document.querySelector('.mobile-menu-toggle');
            var navlinks = document.querySelector('.navlinks');
            var btnHeader = document.querySelector('.btn-header');

            if (menuToggle && navlinks) {
                menuToggle.addEventListener('click', function () {
                    menuToggle.classList.toggle('active');
                    navlinks.classList.toggle('active');
                    btnHeader.classList.toggle('active');
                    document.body.style.overflow = navlinks.classList.contains('active') ? 'hidden' : '';
                });

                // Close menu when clicking a link
                var navLinks = navlinks.querySelectorAll('a');
                navLinks.forEach(function (link) {
                    link.addEventListener('click', function () {
                        menuToggle.classList.remove('active');
                        navlinks.classList.remove('active');
                        btnHeader.classList.remove('active');
                        document.body.style.overflow = '';
                    });
                });
            }
        })();

        (function () {
            var banner = document.querySelector('.banner');
            if (!banner) return;
            var videos = banner.querySelectorAll('.banner-video');
            var segments = banner.querySelectorAll('.banner-bar-segment');
            var current = 0;
            var total = videos.length;

            function goTo(index) {
                current = (index + total) % total;
                videos.forEach(function (v, i) {
                    v.classList.toggle('active', i === current);
                    if (i === current) {
                        v.play().catch(function () { });
                    } else {
                        v.pause();
                        v.currentTime = 0;
                    }
                });
                segments.forEach(function (s, i) {
                    s.classList.toggle('active', i === current);
                });
            }

            segments.forEach(function (seg, i) {
                seg.addEventListener('click', function () { goTo(i); });
            });

            goTo(0);
        })();

        // Gallery horizontal scroll with navigation buttons
        (function () {
            var scroller = document.querySelector('.gallery-scroller');
            var prevBtn = document.querySelector('.gallery-prev');
            var nextBtn = document.querySelector('.gallery-next');
            var scrollAmount = 340;

            if (!scroller) return;

            // Button navigation
            if (prevBtn) {
                prevBtn.addEventListener('click', function () {
                    scroller.scrollBy({
                        left: -scrollAmount,
                        behavior: 'smooth'
                    });
                });
            }

            if (nextBtn) {
                nextBtn.addEventListener('click', function () {
                    scroller.scrollBy({
                        left: scrollAmount,
                        behavior: 'smooth'
                    });
                });
            }

            // Drag to scroll functionality
            var isDown = false;
            var startX;
            var scrollLeft;

            scroller.addEventListener('mousedown', function (e) {
                isDown = true;
                scroller.style.cursor = 'grabbing';
                startX = e.pageX - scroller.offsetLeft;
                scrollLeft = scroller.scrollLeft;
            });

            scroller.addEventListener('mouseleave', function () {
                isDown = false;
                scroller.style.cursor = 'grab';
            });

            scroller.addEventListener('mouseup', function () {
                isDown = false;
                scroller.style.cursor = 'grab';
            });

            scroller.addEventListener('mousemove', function (e) {
                if (!isDown) return;
                e.preventDefault();
                var x = e.pageX - scroller.offsetLeft;
                var walk = (x - startX) * 2;
                scroller.scrollLeft = scrollLeft - walk;
            });
        })();

        (function () {
            var trigger = document.querySelector('.nav-dropdown-trigger');
            var menu = document.querySelector('.nav-dropdown-menu');
            var options = document.querySelectorAll('.nav-dropdown-option');
            var cabinet = document.getElementById('eventsCabinet');
            var backdrop = document.getElementById('eventsCabinetBackdrop');
            var closeBtn = document.querySelector('.events-cabinet-close');
            var titleEl = document.getElementById('eventsCabinetTitle');
            var bodyEl = document.getElementById('eventsCabinetBody');
            var footerEventsLink = document.querySelector('.footer-events-link');

            var titles = {
                'worship': 'Worship Services',
                'bible-study': 'Bible Study',
                'youth': 'Youth & Teens',
                'outreach': 'Outreach',
                'announcements': 'Announcements'
            };

            function closeDropdown() {
                if (!trigger || !menu) return;
                var dropdown = trigger.closest('.nav-dropdown');

                menu.classList.remove('open');
                if (dropdown) dropdown.classList.remove('open');
                trigger.setAttribute('aria-expanded', 'false');
            }

            function openCabinet(eventType) {
                if (!bodyEl) return;

                var contents = bodyEl.querySelectorAll('.events-cabinet-content');
                contents.forEach(function (c) {
                    c.hidden = (c.getAttribute('data-event-type') !== eventType);
                });

                if (titleEl) titleEl.textContent = titles[eventType] || 'Events';

                if (cabinet) {
                    cabinet.classList.add('open');
                    cabinet.setAttribute('aria-hidden', 'false');
                }

                if (backdrop) {
                    backdrop.classList.add('open');
                    backdrop.setAttribute('aria-hidden', 'false');
                }

                document.body.style.overflow = 'hidden';
            }

            function closeCabinet() {
                if (cabinet) {
                    cabinet.classList.remove('open');
                    cabinet.setAttribute('aria-hidden', 'true');
                }

                if (backdrop) {
                    backdrop.classList.remove('open');
                    backdrop.setAttribute('aria-hidden', 'true');
                }

                document.body.style.overflow = '';
            }

            /* ----------------------------
               DROPDOWN LOGIC
            ----------------------------- */

            if (trigger && menu) {
                var dropdown = trigger.closest('.nav-dropdown');
                var ignoreNextOutsideClick = false;

                trigger.addEventListener('click', function (e) {
                    e.stopPropagation();

                    var isOpen = menu.classList.contains('open');
                    closeDropdown();

                    if (!isOpen) {
                        menu.classList.add('open');
                        if (dropdown) dropdown.classList.add('open');
                        trigger.setAttribute('aria-expanded', 'true');
                    }
                });

                // Prevent closing when clicking inside menu
                menu.addEventListener('click', function (e) {
                    e.stopPropagation();
                });

                // ðŸ”¹ When cabinet close button is clicked
                if (closeBtn) {
                    closeBtn.addEventListener('click', function (e) {
                        e.stopPropagation(); // stop bubbling
                        ignoreNextOutsideClick = true;

                        closeCabinet();

                        // Reset flag after current event loop
                        setTimeout(function () {
                            ignoreNextOutsideClick = false;
                        }, 0);
                    });
                }

                // Close dropdown when clicking outside
                document.addEventListener('click', function (e) {

                    if (ignoreNextOutsideClick) return;

                    if (dropdown && !dropdown.contains(e.target)) {
                        closeDropdown();
                    }
                });
            }


            /* ----------------------------
               OPTION CLICK
            ----------------------------- */

            options.forEach(function (opt) {
                opt.addEventListener('click', function () {
                    var type = opt.getAttribute('data-event-type');
                    openCabinet(type);
                });
            });

            /* ----------------------------
               CABINET CLOSE
            ----------------------------- */

            if (closeBtn) closeBtn.addEventListener('click', closeCabinet);
            if (backdrop) backdrop.addEventListener('click', closeCabinet);

            document.addEventListener('keydown', function (e) {
                if (e.key === 'Escape') {
                    if (cabinet && cabinet.classList.contains('open')) {
                        closeCabinet();
                    } else {
                        closeDropdown();
                    }
                }
            });

            /* ----------------------------
               FOOTER LINK
            ----------------------------- */

            if (footerEventsLink) {
                footerEventsLink.addEventListener('click', function (e) {
                    e.preventDefault();
                    openCabinet('worship');
                });
            }

        })();


        document.querySelector('.footer-year').textContent = new Date().getFullYear();

        // ===============================
        // LOGIN MODAL FUNCTIONALITY (FIXED)
        // ===============================
        document.addEventListener('DOMContentLoaded', function () {

            const loginModal = document.getElementById('loginModal');
            const openLoginModal = document.getElementById('openLoginModal');
            const closeLoginModal = document.getElementById('closeLoginModal');

            const phoneLoginBtn = document.getElementById('phoneLoginBtn');
            const phoneLoginForm = document.getElementById('phoneLoginForm');
            const emailLoginForm = document.getElementById('emailLoginForm');

            const backToSocial = document.getElementById('backToSocial');
            const backToSocialFromEmail = document.getElementById('backToSocialFromEmail');

            const socialOptions = document.querySelector('.social-login-options');
            const togglePassword = document.querySelector('.toggle-password');
            const passwordInput = document.getElementById('loginPassword');

            const googleBtn = document.querySelector('.social-login-btn.google');
            const facebookBtn = document.querySelector('.social-login-btn.facebook');
            const submitPhoneBtn = document.querySelector('.submit-phone-btn');
            const submitEmailBtn = document.querySelector('.submit-email-btn');

            if (!loginModal) return;

            // ===============================
            // OPEN MODAL
            // ===============================
            if (openLoginModal) {
                openLoginModal.addEventListener('click', function (e) {
                    e.preventDefault();
                    loginModal.classList.add('active');
                    document.body.style.overflow = 'hidden';
                });
            }

            // ===============================
            // CLOSE MODAL
            // ===============================
            function closeModal() {
                loginModal.classList.remove('active');
                document.body.style.overflow = '';

                setTimeout(function () {
                    if (phoneLoginForm) phoneLoginForm.classList.remove('active');
                    if (emailLoginForm) emailLoginForm.classList.remove('active');
                    if (socialOptions) socialOptions.classList.remove('hidden');
                }, 300);
            }

            if (closeLoginModal) {
                closeLoginModal.addEventListener('click', closeModal);
            }

            // ===============================
            // SWITCH TO PHONE LOGIN
            // ===============================
            if (phoneLoginBtn) {
                phoneLoginBtn.addEventListener('click', function () {
                    if (socialOptions) socialOptions.classList.add('hidden');
                    if (phoneLoginForm) phoneLoginForm.classList.add('active');
                });
            }

            // Back to social (phone)
            if (backToSocial) {
                backToSocial.addEventListener('click', function () {
                    if (phoneLoginForm) phoneLoginForm.classList.remove('active');
                    if (socialOptions) socialOptions.classList.remove('hidden');
                });
            }

            // Back to social (email)
            if (backToSocialFromEmail) {
                backToSocialFromEmail.addEventListener('click', function () {
                    if (emailLoginForm) emailLoginForm.classList.remove('active');
                    if (socialOptions) socialOptions.classList.remove('hidden');
                });
            }

            // ===============================
            // TOGGLE PASSWORD
            // ===============================
            if (togglePassword && passwordInput) {
                togglePassword.addEventListener('click', function () {
                    const type = passwordInput.type === 'password' ? 'text' : 'password';
                    passwordInput.type = type;

                    const icon = this.querySelector('i');
                    if (icon) {
                        icon.classList.toggle('fa-eye');
                        icon.classList.toggle('fa-eye-slash');
                    }
                });
            }

            // ===============================
            // GOOGLE LOGIN (Demo)
            // ===============================
            if (googleBtn) {
                googleBtn.addEventListener('click', function () {
                    if (socialOptions) socialOptions.classList.add('hidden');
                    if (emailLoginForm) emailLoginForm.classList.add('active');
                });
            }

            // ===============================
            // FACEBOOK LOGIN (Demo)
            // ===============================
            if (facebookBtn) {
                facebookBtn.addEventListener('click', function () {
                    alert('Facebook OAuth would open here.');
                });
            }

            // ===============================
            // PHONE SUBMIT (Demo)
            // ===============================
            if (submitPhoneBtn) {
                submitPhoneBtn.addEventListener('click', function () {
                    const phoneInput = document.getElementById('phoneNumber');

                    if (phoneInput && phoneInput.value.trim() !== '') {
                        alert('Verification code sent to +63 ' + phoneInput.value);
                    } else {
                        alert('Please enter your cellphone number.');
                    }
                });
            }

            // ===============================
            // EMAIL SUBMIT (Admin Authentication)
            // ===============================
            if (submitEmailBtn) {
                // Add Enter key support for email and password inputs
                const emailInput = document.getElementById('loginEmail');
                const passwordInput = document.getElementById('loginPassword');

                if (emailInput) {
                    emailInput.addEventListener('keypress', function (e) {
                        if (e.key === 'Enter') {
                            e.preventDefault();
                            submitEmailBtn.click();
                        }
                    });
                }

                if (passwordInput) {
                    passwordInput.addEventListener('keypress', function (e) {
                        if (e.key === 'Enter') {
                            e.preventDefault();
                            submitEmailBtn.click();
                        }
                    });
                }

                submitEmailBtn.addEventListener('click', function () {
                    const emailInput = document.getElementById('loginEmail');
                    const passwordInput = document.getElementById('loginPassword');

                    const email = emailInput ? emailInput.value.trim() : '';
                    const password = passwordInput ? passwordInput.value.trim() : '';

                    // Default admin credentials
                    const adminEmail = 'admin@agbbc.org';
                    const adminPassword = 'admin123';

                    if (email === '' || password === '') {
                        // Remove focus before showing SweetAlert
                        submitEmailBtn.blur();
                        Swal.fire({
                            icon: 'warning',
                            title: 'Missing Credentials',
                            text: 'Please enter both email and password.',
                            confirmButtonColor: '#3085d6',
                            confirmButtonText: 'OK'
                        });
                        return;
                    }

                    if (email === adminEmail && password === adminPassword) {
                        // Store session
                        sessionStorage.setItem('adminLoggedIn', 'true');
                        sessionStorage.setItem('adminEmail', email);

                        // Remove focus before showing SweetAlert
                        submitEmailBtn.blur();
                        Swal.fire({
                            icon: 'success',
                            title: 'Login Successful!',
                            text: 'Welcome back, Admin!',
                            timer: 1500,
                            showConfirmButton: false,
                            confirmButtonColor: '#3085d6'
                        }).then(() => {
                            // Close modal and redirect
                            const loginModal = document.getElementById('loginModal');
                            if (loginModal) {
                                loginModal.classList.remove('active');
                                document.body.style.overflow = '';
                            }
                            // Clear form
                            if (emailInput) emailInput.value = '';
                            if (passwordInput) passwordInput.value = '';

                            // Redirect to admin page
                            window.location.href = 'admin/admin.html';
                        });
                    } else {
                        // Remove focus before showing SweetAlert
                        submitEmailBtn.blur();
                        Swal.fire({
                            icon: 'error',
                            title: 'Login Failed',
                            text: 'Invalid email or password. Please try again.',
                            confirmButtonColor: '#d33',
                            confirmButtonText: 'Try Again'
                        });
                    }
                });
            }

        });

    </script>

    <!-- Login Modal -->
    <div class="login-modal-overlay" id="loginModal">
        <div class="login-modal-container">
            <button type="button" class="login-modal-close" id="closeLoginModal" aria-label="Close modal">
                <i class="fa-solid fa-times"></i>
            </button>

            <div class="login-modal-header">
                <div class="login-modal-logo">
                    <img src="img/logoheader.png" alt="AGBBC">
                </div>
                <h2>Welcome Back</h2>
                <p>Join us in growing your faith journey</p>
            </div>

            <div class="login-modal-body">
                <!-- Social Login Options -->
                <div class="social-login-options">
                    <button type="button" class="social-login-btn google">
                        <span class="social-icon"><i class="fa-brands fa-google"></i></span>
                        <span class="social-text">Continue with Email</span>
                    </button>
                    <button type="button" class="social-login-btn facebook">
                        <span class="social-icon"><i class="fa-brands fa-facebook-f"></i></span>
                        <span class="social-text">Continue with Facebook</span>
                    </button>
                    <button type="button" class="social-login-btn phone" id="phoneLoginBtn">
                        <span class="social-icon"><i class="fa-solid fa-mobile-screen-button"></i></span>
                        <span class="social-text">Continue with Cellphone</span>
                    </button>
                </div>

                <!-- Phone Login Form (Hidden by default) -->
                <div class="phone-login-form" id="phoneLoginForm">
                    <div class="form-group">
                        <label for="phoneNumber">Cellphone Number</label>
                        <div class="phone-input-wrapper">
                            <span class="country-code">+63</span>
                            <input type="tel" id="phoneNumber" placeholder="912 345 6789" pattern="[0-9]{10}">
                        </div>
                    </div>
                    <button type="button" class="submit-phone-btn">
                        <i class="fa-solid fa-paper-plane"></i> Send Verification Code
                    </button>
                    <button type="button" class="back-to-social-btn" id="backToSocial">
                        <i class="fa-solid fa-arrow-left"></i> Back to login options
                    </button>
                </div>

                <!-- Email Login Form (Hidden by default) -->
                <div class="email-login-form" id="emailLoginForm">
                    <div class="form-group">
                        <label for="loginEmail">Email Address</label>
                        <input type="email" id="loginEmail" placeholder="your@email.com">
                    </div>
                    <div class="form-group">
                        <label for="loginPassword">Password</label>
                        <div class="password-input-wrapper">
                            <input type="password" id="loginPassword" placeholder="Enter your password">
                            <button type="button" class="toggle-password" aria-label="Toggle password visibility">
                                <i class="fa-solid fa-eye"></i>
                            </button>
                        </div>
                    </div>
                    <div class="form-options">
                        <label class="remember-me">
                            <input type="checkbox">
                            <span>Remember me</span>
                        </label>
                        <a href="#" class="forgot-password">Forgot password?</a>
                    </div>
                    <button type="button" class="submit-email-btn">
                        Sign In
                    </button>
                    <button type="button" class="back-to-social-btn" id="backToSocialFromEmail">
                        <i class="fa-solid fa-arrow-left"></i> Back to login options
                    </button>
                </div>
            </div>

            <div class="login-modal-footer">
                <p>Don't have an account? <a href="#" class="register-link">Register here</a></p>
            </div>
        </div>
    </div>
</body>

</html>